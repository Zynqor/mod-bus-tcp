<!-- index2.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设置主机</title>
    <style>
        body {
            font-family: Arial, sans-serif; /* 使用 Arial 字体以确保兼容性 */
            margin: 0; /* 去除默认边距 */
            padding: 0; /* 去除默认内边距 */
            background-color: #f0f0f0; /* 设置背景颜色 */
        }

        h1 {
            text-align: center; /* 标题居中显示 */
            margin-top: 50px; /* 设置标题顶部间距 */
        }

        form {
            width: 80%; /* 表单宽度 */
            margin: 0 auto; /* 水平居中显示 */
            background-color: #fff; /* 表单背景色 */
            padding: 20px; /* 内边距 */
            border-radius: 8px; /* 圆角边框 */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */
        }

        label {
            display: block; /* 每行显示一个标签 */
            font-weight: bold; /* 加粗标签文字 */
            margin-bottom: 10px; /* 标签下方间距 */
        }

        input[type="text"] {
            width: calc(100% - 20px); /* 输入框宽度 */
            padding: 10px; /* 内边距 */
            margin-bottom: 20px; /* 底部间距 */
            border: 1px solid #ccc; /* 边框样式 */
            border-radius: 4px; /* 圆角边框 */
        }

        input[type="submit"] {
            width: 100%; /* 提交按钮宽度 */
            padding: 10px; /* 内边距 */
            border: none; /* 去除边框 */
            background-color: #007bff; /* 按钮背景色 */
            color: #fff; /* 按钮文字颜色 */
            cursor: pointer; /* 鼠标悬停样式 */
            border-radius: 4px; /* 圆角边框 */
        }

        input[type="submit"]:hover {
            background-color: #0056b3; /* 悬停时背景色 */
        }

        button {
            display: block; /* 按钮块级显示 */
            width: 80%; /* 按钮宽度 */
            margin: 20px auto 0; /* 上方间距、水平居中 */
            padding: 10px; /* 内边距 */
            border: none; /* 去除边框 */
            background-color: #007bff; /* 按钮背景色 */
            color: #fff; /* 按钮文字颜色 */
            cursor: pointer; /* 鼠标悬停样式 */
            border-radius: 4px; /* 圆角边框 */
        }

        button:hover {
            background-color: #0056b3; /* 悬停时背景色 */
        }
    </style>
</head>
<body>
<h1>设置主机</h1>
<form id="myForm" action="/submit" method="post">
    <label for="ip">IP:</label><br>
    <input type="hidden" name="type" value="ip"/>
    <!-- 在这里使用从后端传递过来的默认数据渲染表单的默认值 -->
    <input type="text" id="ip" name="ip" value="{{ data['default_value'] }}">
    <br><br>
    <input type="submit" value="修改IP">
</form>
<button onclick="goToMain()">回主页</button>

<script>
    // 监听表单提交事件
    document.getElementById("myForm").addEventListener("submit", function (event) {
        // 阻止表单的默认提交行为
        event.preventDefault();
        // 发送异步请求
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/submit");
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                // 表单提交成功，弹出提示框
                alert("提交成功");
            }
        };
        // 将表单数据序列化并发送
        var formData = new FormData(document.getElementById("myForm"));
        xhr.send(new URLSearchParams(formData).toString());
    });

    function goToMain() {
        window.location.href = "/";
    }
</script>
</body>
</html>
